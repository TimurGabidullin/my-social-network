(this["webpackJsonpmy-network"]=this["webpackJsonpmy-network"]||[]).push([[3],{292:function(t,e,s){t.exports={descriptionBlock:"ProfileInfo_descriptionBlock__aEa0n",mainPhoto:"ProfileInfo_mainPhoto__1f9Cz",contact:"ProfileInfo_contact__cEHKe"}},293:function(t,e,s){t.exports={postsBlock:"MyPosts_postsBlock__28sBn",posts:"MyPosts_posts__1IQ6n"}},294:function(t,e,s){t.exports={item:"Post_item__2ejwt"}},296:function(t,e,s){"use strict";s.r(e);var c=s(5),n=s(36),o=s(37),i=s(40),r=s(39),a=s(0),j=s.n(a),l=s(95),u=s(292),b=s.n(u),d=s(49),p=s(1),h=function(t){var e=Object(a.useState)(!1),s=Object(l.a)(e,2),c=s[0],n=s[1],o=Object(a.useState)(t.status),i=Object(l.a)(o,2),r=i[0],j=i[1];Object(a.useEffect)((function(){j(t.status)}),[t.status]);return Object(p.jsxs)("div",{children:[!c&&Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"Status:"})," ",Object(p.jsx)("span",{onDoubleClick:function(){n(!0)},children:t.status||"---"})]}),c&&Object(p.jsx)("div",{children:Object(p.jsx)("input",{autoFocus:!0,onChange:function(t){j(t.currentTarget.value)},value:r,onBlur:function(){n(!1),t.updateStatus(r)}})})]})},O=s(105),f=function(t){var e=t.profile,s=t.isOwner;return Object(p.jsxs)("div",{children:[s&&Object(p.jsx)("div",{children:Object(p.jsx)("button",{children:"Edit"})}),Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"Full name:"}),e?e.fullName:""]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"Looking for a job:"}),e?e.lookingForAJob?"yes":"no":""]}),e&&e.lookingForAJob&&Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"My professional skills:"}),e?e.lookingForAJobDescription:""]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"About me:"}),e?e.aboutMe:""]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"Contacts:"}),Object.keys(e?e.contacts:"").map((function(t){return Object(p.jsx)(m,{contactTitle:t,contactValue:e?e.contacts[t]:""},t)}))]})]})},x=function(t){var e=t.profile;return Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"Full name:"}),e?e.fullName:""]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"Looking for a job:"}),e?e.lookingForAJob?"yes":"no":""]}),e&&e.lookingForAJob&&Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"My professional skills:"}),e?e.lookingForAJobDescription:""]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"About me:"}),e?e.aboutMe:""]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"Contacts:"}),Object.keys(e?e.contacts:"").map((function(t){return Object(p.jsx)(m,{contactTitle:t,contactValue:e?e.contacts[t]:""},t)}))]})]})},m=function(t){return Object(p.jsxs)("div",{className:b.a.contact,children:[Object(p.jsxs)("b",{children:[t.contactTitle,":"]}),t.contactValue]})},v=function(t){var e=t.profile,s=t.status,c=t.updateStatus,n=t.isOwner,o=t.savePhoto,i=Object(a.useState)(!1),r=Object(l.a)(i,2),j=r[0];r[1];if(!e)return Object(p.jsx)(d.a,{});return Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:b.a.descriptionBlock,children:[Object(p.jsx)("img",{src:e.photos.large||O.a,className:b.a.mainPhoto}),n&&Object(p.jsx)("input",{type:"file",onChange:function(t){t.target.files&&o(t.target.files[0])}}),j?Object(p.jsx)(x,{profile:e}):Object(p.jsx)(f,{profile:e,isOwner:n}),Object(p.jsx)(h,{status:s,updateStatus:c})]})})},g=s(293),P=s.n(g),k=s(294),y=s.n(k),_=function(t){var e=t.message,s=t.likesCount;return Object(p.jsx)("div",{className:y.a.posts,children:Object(p.jsxs)("div",{className:y.a.item,children:[Object(p.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT-9wd1vdvmXNs9AobWt-l-fJi2o1CQpyJRqQ&usqp=CAU",alt:""}),e,Object(p.jsx)("div",{children:Object(p.jsxs)("span",{children:["like ",s]})})]})})},S=s(127),w=s(128),A=s(72),C=s(64),N=j.a.memo((function(t){var e=t.profilePage,s=t.addPost,c=e.posts.map((function(t){return Object(p.jsx)(_,{id:t.id,message:t.message,likesCount:t.likesCount},t.id)}));return Object(p.jsxs)("div",{className:P.a.postsBlock,children:[Object(p.jsx)("h3",{children:"My Post"}),Object(p.jsx)(I,{onSubmit:function(t){s(t.newPostText)}}),Object(p.jsx)("div",{className:P.a.posts,children:c})]})})),F=Object(A.a)(10),I=Object(w.a)({form:"profileAddNewPostForm"})((function(t){var e=t.handleSubmit;return Object(p.jsxs)("form",{onSubmit:e,children:[Object(p.jsx)("div",{children:Object(p.jsx)(S.a,{component:C.b,name:"newPostText",validate:[A.b,F],placeholder:"Post message"})}),Object(p.jsx)("div",{children:Object(p.jsx)("button",{children:"Add post"})})]})})),J=N,B=s(94),M=s(15),T=Object(M.b)((function(t){return{profilePage:t.profilePage}}),(function(t){return{addPost:function(e){t(Object(B.a)(e))}}}))(J),U=function(t){var e=t.profile,s=t.status,c=t.updateStatus,n=t.isOwner,o=t.savePhoto;return Object(p.jsxs)("div",{children:[Object(p.jsx)(v,{profile:e,isOwner:n,status:s,updateStatus:c,savePhoto:o}),Object(p.jsx)(T,{})]})},D=s(11),E=s(10),q=function(t){Object(i.a)(s,t);var e=Object(r.a)(s);function s(){return Object(n.a)(this,s),e.apply(this,arguments)}return Object(o.a)(s,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e){this.props.match.params.userId!==t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(p.jsx)("div",{children:Object(p.jsx)(U,Object(c.a)(Object(c.a)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))})}}]),s}(j.a.Component);e.default=Object(E.d)(Object(M.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.id,isAuth:t.auth.isAuth}}),{getUserProfile:B.d,getStatus:B.c,updateStatus:B.f,savePhoto:B.e}),D.f)(q)}}]);
//# sourceMappingURL=3.1c14688d.chunk.js.map