{"version":3,"sources":["api/api.ts","components/Navbar/Navbar.module.css","components/Navbar/Navbar.tsx","redux/users-reducer.ts","components/common/Paginator/Paginator.tsx","components/Users/User.tsx","components/Users/Users.tsx","redux/users-selectors.ts","components/Users/UsersContainer.tsx","components/Header/Header.tsx","redux/auth-reducer.ts","components/Header/HeaderContainer.tsx","redux/app-reducer.ts","components/Login/LoginWithHook.tsx","App.tsx","reportWebVitals.ts","redux/sidebar-reducer.ts","redux/redux-store.tsx","index.tsx","assets/images/Spinner-1s-200px.svg","components/common/Preloader/Preloader.tsx","components/common/FormsControls/FormsControls.module.css","components/common/Paginator/Paginator.module.css","components/Header/Header.module.css","redux/profile-reducer.ts","assets/images/user.png","redux/dialogs-reducer.ts","components/Users/users.module.css"],"names":["instance","axios","create","baseURL","withCredentials","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","unfollow","userId","delete","follow","post","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaURL","module","exports","Navbar","className","s","nav","item","to","activeClassName","activeLink","active","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","initialState","users","totalUsersCount","isFetching","followingInProgress","followSuccess","type","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","state","action","map","u","id","followed","filter","Paginator","props","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","paginator","onClick","p","selectedPage","User","user","src","photos","small","userPhoto","disabled","some","name","Users","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","pageNumber","requestUsers","this","Preloader","React","Component","compose","connect","bind","page","items","totalCount","Header","isAuth","header","alt","loginBlock","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","captchaUrl","setAuthUserData","payload","getAuthUserData","url","authReducer","HeaderContainer","auth","INITIALIZED_SUCCESS","initialized","appReducer","loginWithHook","setError","log","message","messages","length","useForm","mode","register","handleSubmit","clearErrors","errors","formState","onSubmit","placeholder","required","formSummaryError","value","error","DialogsContainer","lazy","ProfileContainer","App","initializeApp","fallback","path","render","LoginWithHook","withRouter","app","promise","Promise","all","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","dialogsReducer","sidebar","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","StrictMode","document","getElementById","preloader","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","posts","likesCount","addPostActionCreator","newPostText","setStatus","getUserProfile","file","setEditMode","getState","postId","SEND_MESSAGE","dialogs","sendMessageActionCreator","newMessageBody"],"mappings":"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","file":"static/js/main.11233c59.chunk.js","sourcesContent":["import axios, {AxiosResponse} from \"axios\";\r\nimport {InputsType} from \"../components/Profile/ProfileDataForm\";\r\nimport {ProfileType} from \"../redux/profile-reducer\";\r\nimport {UserType} from \"../redux/users-reducer\";\r\n\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: {\r\n        \"API-KEY\": 'fc9ea6e0-1fb2-438a-8945-f3bcb731cc84'\r\n    },\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get<{ currentPage: number, pageSize: number }, AxiosResponse<ResponseUsersType>>(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data)\r\n    },\r\n    unfollow(userId: string) {\r\n        return instance.delete<{ userId: string }, AxiosResponse<ResponseType>>(`follow/${userId}`)\r\n    },\r\n    follow(userId: string) {\r\n        return instance.post<{ userId: string }, AxiosResponse<ResponseType>>(`follow/${userId}`)\r\n    },\r\n    getProfile(userId: string | null) {\r\n        console.warn('Obselete method. Please use profileAPI object.')\r\n        return profileAPI.getProfile(userId)\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId: string | null) {\r\n        return instance.get<ProfileType>(`profile/` + userId)\r\n    },\r\n    getStatus(userId: string) {\r\n        return instance.get<{ userId: string }, AxiosResponse<string>>(`profile/status/` + userId)\r\n    },\r\n    updateStatus(status: string) {\r\n        return instance.put<{ status: string }, AxiosResponse<ResponseType>>(`profile/status/`, {status})\r\n    },\r\n    savePhoto(photoFile: File) {\r\n        let formData = new FormData();\r\n        formData.append('image', photoFile);\r\n        return instance.put<{ photoFile: File }, AxiosResponse<ResponseType<{\r\n            photos: {\r\n                small: string,\r\n                large: string\r\n            }\r\n        }>>>(`profile/photo/`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n    },\r\n    saveProfile(profile: InputsType) {\r\n        return instance.put(`profile`, profile)\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get<ResponseType<AuthType>>(`auth/me`)\r\n    },\r\n    // login(email: string, password: string, rememberMe: boolean = false,captcha:any) {\r\n    //     return instance.post<{\r\n    //         email: string,\r\n    //         password: string,\r\n    //         rememberMe: boolean\r\n    //         captcha:any\r\n    //     }, AxiosResponse<ResponseType<{ userId: string }>>>(`auth/login`, {\r\n    //         email,\r\n    //         password,\r\n    //         rememberMe,\r\n    //         captcha\r\n    //     })\r\n    // },\r\n    login(email: string, password: string, rememberMe: boolean = false,captcha:any) {\r\n        return instance.post<any>(`auth/login`, {\r\n            email,\r\n            password,\r\n            rememberMe,\r\n            captcha\r\n        })\r\n    },\r\n\r\n\r\n\r\n    logout() {\r\n        return instance.delete<null, AxiosResponse<ResponseType>>(`auth/login`)\r\n    }\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptchaURL() {\r\n        return instance.get<null, AxiosResponse<{ url: string }>>(`security/get-captcha-url`)\r\n    }\r\n}\r\n\r\n\r\ntype ResponseType<D = {}> = {\r\n    resultCode: number\r\n    messages: Array<string>\r\n    data: D\r\n}\r\n\r\ntype AuthType = {\r\n    id: string\r\n    email: string\r\n    login: string\r\n}\r\n\r\n\r\ntype ResponseUsersType = {\r\n    items: Array<UserType>\r\n    totalCount: number\r\n    error: string | null\r\n}\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2cfYL\",\"item\":\"Navbar_item__2I3CI\",\"activeLink\":\"Navbar_activeLink__ebbk1\"};","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './Navbar.module.css';\r\n\r\nconst Navbar = () => {\r\n    return <nav className={s.nav}>\r\n        <div className={s.item}>\r\n            <NavLink to={'/profile'} activeClassName={s.activeLink}>Profile</NavLink>\r\n        </div>\r\n        <div className={`${s.item} ${s.active}`}>\r\n            <NavLink to={'/dialogs'} activeClassName={s.activeLink}>Messages</NavLink>\r\n        </div>\r\n        <div className={`${s.item} ${s.active}`}>\r\n            <NavLink to={'/users'} activeClassName={s.activeLink}>Users</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n            <NavLink to={'/news'}>News</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n            <NavLink to={'music'} activeClassName={s.activeLink}>Music</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n            <NavLink to={'settings'}>Settings</NavLink>\r\n        </div>\r\n    </nav>\r\n}\r\n\r\n\r\nexport default Navbar;","import {ActionsType} from \"./redux-store\";\r\nimport {Dispatch} from \"redux\";\r\nimport {usersAPI} from \"../api/api\";\r\nimport {AxiosResponse} from \"axios\";\r\n\r\nconst FOLLOW = \"FOLLOW\"\r\nconst UNFOLLOW = \"UNFOLLOW\"\r\nconst SET_USERS = \"SET_USERS\"\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\"\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\"\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\"\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE_IS_FOLLOWING_PROGRESS\"\r\n\r\nexport type UserType = {\r\n    id: string\r\n    photos: { small: string, large: string }\r\n    followed: boolean\r\n    name: string\r\n    status: string\r\n    // location: { city: string, country: string }\r\n}\r\n\r\nexport type InitialStateType = typeof initialState\r\n\r\nlet initialState = {\r\n    users: [] as UserType[],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [] as string[] | [],\r\n}\r\n\r\nconst usersReducer = (state: InitialStateType = initialState, action: ActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: true}\r\n                    }\r\n                    return u\r\n                })\r\n            }\r\n\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: false}\r\n                    }\r\n                    return u\r\n                })\r\n            }\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: [...action.users]\r\n            }\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.totalUsersCount\r\n            }\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n\r\n}\r\n\r\nexport const followSuccess = (userId: string) => (\r\n    {\r\n        type: FOLLOW,\r\n        userId\r\n    } as const\r\n)\r\n\r\nexport const unfollowSuccess = (userId: string) => (\r\n    {\r\n        type: UNFOLLOW,\r\n        userId\r\n    } as const\r\n)\r\n\r\nexport const setUsers = (users: UserType[]) => (\r\n    {\r\n        type: SET_USERS,\r\n        users\r\n    } as const\r\n)\r\n\r\nexport const setCurrentPage = (currentPage: number) => (\r\n    {\r\n        type: SET_CURRENT_PAGE,\r\n        currentPage\r\n    } as const\r\n)\r\nexport const setTotalUsersCount = (totalUsersCount: number) => (\r\n    {\r\n        type: SET_TOTAL_USERS_COUNT,\r\n        totalUsersCount\r\n    } as const\r\n)\r\n\r\nexport const toggleIsFetching = (isFetching: boolean) => (\r\n    {\r\n        type: TOGGLE_IS_FETCHING,\r\n        isFetching\r\n    } as const\r\n)\r\n\r\nexport const toggleFollowingProgress = (isFetching: boolean, userId: string) => (\r\n    {\r\n        type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n        isFetching,\r\n        userId,\r\n    } as const\r\n)\r\n\r\nexport const requestUsers = (page: number, pageSize: number) => async (dispatch: Dispatch) => {\r\n    dispatch(toggleIsFetching(true))\r\n    dispatch(setCurrentPage(page))\r\n    let data = await usersAPI.getUsers(page, pageSize)\r\n    dispatch(toggleIsFetching(false))\r\n    dispatch(setUsers(data.items))\r\n    dispatch(setTotalUsersCount(data.totalCount))\r\n}\r\n\r\nconst followUnfollowFlow=async (dispatch:Dispatch,userId:string,apiMethod: any,actionCreator:any)=>{\r\n    dispatch(toggleFollowingProgress(true, userId))\r\n    let response = await apiMethod(userId)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId))\r\n}\r\n\r\nexport const follow = (userId: string) => async (dispatch: Dispatch) => {\r\n    followUnfollowFlow(dispatch,userId,usersAPI.follow.bind(usersAPI),followSuccess)\r\n}\r\n\r\nexport const unfollow = (userId: string) => async (dispatch: Dispatch) => {\r\n    followUnfollowFlow(dispatch,userId,usersAPI.unfollow.bind(usersAPI),unfollowSuccess)\r\n}\r\n\r\nexport default usersReducer\r\n\r\n\r\n","import React, {useState} from \"react\";\r\nimport styles from \"../Paginator/Paginator.module.css\";\r\n\r\ntype UsersPropsType = {\r\n    pageSize:number\r\n    portionSize:number\r\n    totalItemsCount: number\r\n    currentPage:number\r\n    onPageChanged:(pageNumber:number)=>void\r\n}\r\n\r\nlet Paginator: React.FC<UsersPropsType> = (props) => {\r\n\r\n    const {\r\n        pageSize,\r\n        totalItemsCount,\r\n        currentPage,\r\n        onPageChanged,\r\n        portionSize,\r\n    } = props\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize)\r\n    let pages = []\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize)\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize - 1\r\n    let rightPortionPageNumber = portionNumber * portionSize\r\n\r\n    return <div className={styles.paginator}>\r\n        {portionNumber > 1 && <button onClick={() => setPortionNumber(portionNumber - 1)}>PREV</button>}\r\n\r\n        {pages\r\n            .filter((p) => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n            .map(p => {\r\n                    let onPageChangedHandler = () => {\r\n                        onPageChanged(p)\r\n                    }\r\n                    return <span className={currentPage === p ? styles.selectedPage : ''}\r\n                                 onClick={onPageChangedHandler} key={p}>{p}</span>\r\n                }\r\n            )}\r\n\r\n        {portionCount > portionNumber && <button onClick={() => setPortionNumber(portionNumber + 1)}>NEXT</button>}\r\n\r\n    </div>\r\n\r\n}\r\nexport default Paginator","import React from \"react\";\r\nimport styles from \"./users.module.css\";\r\nimport userPhoto from \"../../assets/images/user.png\";\r\nimport {UserType} from \"../../redux/users-reducer\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\ntype UsersPropsType = {\r\n    user: UserType\r\n    follow: (userId: string) => void\r\n    unfollow: (userId: string) => void\r\n    followingInProgress: string[] | []\r\n}\r\n\r\n\r\nlet User: React.FC<UsersPropsType> = (props) => {\r\n\r\n    const {\r\n        user,\r\n        follow,\r\n        unfollow,\r\n        followingInProgress,\r\n    } = props\r\n    \r\n    return <div>\r\n                <div>\r\n                    <NavLink to={'/profile/' + user.id}><img src={user.photos.small !== null ? user.photos.small : userPhoto}\r\n                                                          className={styles.userPhoto}/></NavLink>\r\n                </div>\r\n                <div>\r\n                    {user.followed\r\n                        ? <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                            unfollow(user.id)\r\n\r\n                        }}>Unfollow</button>\r\n                        : <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                            follow(user.id)\r\n                        }}>Follow</button>}\r\n                </div>\r\n                <div>{user.name}</div>\r\n                <div>{user.status}</div>\r\n                <div>{\"u.location.country\"}</div>\r\n                <div>{\"u.location.city\"}</div>\r\n\r\n            </div>\r\n}\r\nexport default User","import React from \"react\";\r\nimport {UserType} from \"../../redux/users-reducer\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\ntype UsersPropsType = {\r\n    users: UserType[]\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    follow: (userId: string) => void\r\n    unfollow: (userId: string) => void\r\n    currentPage: number\r\n    onPageChanged: (pageNumber: number) => void\r\n    followingInProgress: string[] | []\r\n}\r\n\r\n\r\nlet Users: React.FC<UsersPropsType> = (props) => {\r\n\r\n    const {\r\n        users,\r\n        pageSize,\r\n        totalUsersCount,\r\n        follow,\r\n        unfollow,\r\n        currentPage,\r\n        onPageChanged,\r\n        followingInProgress,\r\n    } = props\r\n\r\n    return <div>\r\n        <Paginator pageSize={pageSize} totalItemsCount={totalUsersCount} currentPage={currentPage}\r\n                   onPageChanged={onPageChanged} portionSize={10}/>\r\n        <div>\r\n            {\r\n                users.map(u => <User user={u} follow={follow} unfollow={unfollow}\r\n                                     followingInProgress={followingInProgress}\r\n                                     key={u.id}/>\r\n                )\r\n            }\r\n        </div>\r\n    </div>\r\n}\r\nexport default Users","import {AppStateType} from \"./redux-store\";\r\nimport {createSelector} from \"reselect\";\r\n\r\n const getUsersSelector=(state: AppStateType)=>{\r\n    return  state.usersPage.users\r\n}\r\n\r\nexport const getUsers=createSelector(getUsersSelector,(users)=>{\r\n   return users.filter(u=>true)\r\n})\r\n\r\nexport const getPageSize=(state: AppStateType)=>{\r\n    return  state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount=(state: AppStateType)=>{\r\n    return  state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage=(state: AppStateType)=>{\r\n    return  state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching=(state: AppStateType)=>{\r\n    return  state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress=(state: AppStateType)=>{\r\n    return state.usersPage.followingInProgress\r\n}","import React from 'react'\r\nimport {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\n\r\nimport {\r\n    follow, requestUsers,\r\n    setCurrentPage,\r\n    unfollow,\r\n    UserType\r\n} from \"../../redux/users-reducer\";\r\n\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getUsers,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getCurrentPage,\r\n    getIsFetching,\r\n    getFollowingInProgress,\r\n} from \"../../redux/users-selectors\";\r\n\r\n\r\ntype MapStateToPropsType = {\r\n    users: UserType[]\r\n    pageSize: number\r\n    totalItemsCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: string[] | []\r\n}\r\n\r\ntype MapDispatchToPropsType = {\r\n    follow: (userId: string) => void\r\n    unfollow: (userId: string) => void\r\n    setCurrentPage: (pageNumber: number) => void\r\n    requestUsers: (currentPage: number, pageSize: number) => void\r\n}\r\n\r\nlet mapStateToProps = (state: AppStateType): { followingInProgress: string[] | []; totalUsersCount: number; pageSize: any; isFetching: boolean; currentPage: number; users: UserType[]} => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n    }\r\n}\r\n\r\ntype UsersContainerPropsType = {\r\n    users: UserType[]\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    isFetching: boolean\r\n    follow: (userId: string) => void\r\n    unfollow: (userId: string) => void\r\n    currentPage: number\r\n    setCurrentPage: (pageNumber: number) => void\r\n    followingInProgress: string[] | []\r\n    requestUsers: (currentPage: number, pageSize: number) => void\r\n}\r\n\r\nclass UsersContainer extends React.Component<UsersContainerPropsType, any> {\r\n\r\n    constructor(props: UsersContainerPropsType) {\r\n        super(props);\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        this.props.requestUsers(this.props.currentPage, this.props.pageSize)\r\n\r\n    }\r\n\r\n    onPageChanged = (pageNumber: number) => {\r\n        this.props.requestUsers(pageNumber, this.props.pageSize)\r\n        this.props.setCurrentPage(pageNumber)\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users onPageChanged={this.onPageChanged}\r\n                   users={this.props.users}\r\n                   pageSize={this.props.pageSize}\r\n                   totalUsersCount={this.props.totalUsersCount}\r\n                   follow={this.props.follow}\r\n                   unfollow={this.props.unfollow}\r\n                   currentPage={this.props.currentPage}\r\n                   followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default compose<React.ComponentType>(connect(mapStateToProps, {\r\n        follow,\r\n        unfollow,\r\n        setCurrentPage,\r\n        requestUsers,\r\n    } as MapDispatchToPropsType),\r\n)(UsersContainer)","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\ntype HeaderPropsType = {\r\n    isAuth: boolean\r\n    login: string | null\r\n    logout:()=>void\r\n}\r\n\r\nconst Header: React.FC<HeaderPropsType> = (props) => {\r\n    const {isAuth, login,logout} = props\r\n    return <header className={s.header}>\r\n        <img\r\n            src=\"data:image/png;base64,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\"\r\n            alt=\"\"/>\r\n        <div className={s.loginBlock}>\r\n            {isAuth ?<div> {login}-<button onClick={logout}>Logout</button> </div>: <NavLink to={'/login'}>login</NavLink>}\r\n        </div>\r\n    </header>\r\n}\r\n\r\n\r\nexport default Header;","import {ActionsType} from \"./redux-store\";\r\nimport {Dispatch} from \"redux\";\r\nimport {authAPI, securityAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = \"samurai-network/auth/SET_USER_DATA\"\r\nconst GET_CAPTCHA_URL_SUCCESS = \"samurai-network/auth/GET_CAPTCHA_URL_SUCCESS\"\r\n\r\nexport type InitialStateType = typeof initialState\r\n\r\nlet initialState = {\r\n    id: null as string | null,\r\n    email: null as string | null,\r\n    login: null as string | null,\r\n    isAuth: false,\r\n    captchaUrl: null as string | null,\r\n}\r\n\r\nconst authReducer = (state: InitialStateType = initialState, action: ActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case GET_CAPTCHA_URL_SUCCESS:\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n\r\n\r\n        default:\r\n            return state\r\n    }\r\n\r\n}\r\n\r\nexport const setAuthUserData = (id: string | null, email: string | null, login: string | null, isAuth: boolean) => (\r\n    {\r\n        type: SET_USER_DATA,\r\n        payload: {\r\n            id,\r\n            email,\r\n            login,\r\n            isAuth,\r\n        },\r\n    } as const\r\n)\r\n\r\nexport const getCaptchaUrlSuccess = (captchaUrl: null | string) => (\r\n    {\r\n        type: GET_CAPTCHA_URL_SUCCESS,\r\n        payload: {\r\n            captchaUrl\r\n        },\r\n    } as const\r\n)\r\n\r\nexport const getAuthUserData = () => async (dispatch: Dispatch) => {\r\n    let response = await authAPI.me()\r\n    if (response.data.resultCode === 0) {\r\n        let {id, login, email} = response.data.data\r\n        dispatch(setAuthUserData(id, login, email, true))\r\n    }\r\n}\r\n\r\n\r\nexport const loginWithHook = (email: string, password: string, rememberMe: boolean,captcha:any,setError:Function) => async (dispatch: Dispatch<any>) => {\r\n    let response = await authAPI.login(email, password, rememberMe,captcha)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData());\r\n        console.log(response.data.resultCode)\r\n\r\n    } else {\r\n        if (response.data.resultCode === 10) {\r\n            dispatch(getCaptchaURL())\r\n        }\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error'\r\n        // debugger\r\n        setError('error', {\r\n            type: \"server\",\r\n            message: message,\r\n        });\r\n\r\n    }\r\n    console.log(response.data.resultCode)\r\n\r\n}\r\n\r\nexport const login = (email: string, password: string, rememberMe: boolean,captcha:any) => async (dispatch: Dispatch<any>) => {\r\n    let response = await authAPI.login(email, password, rememberMe,captcha)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData());\r\n    } else {\r\n        if (response.data.resultCode === 10) {\r\n            dispatch(getCaptchaURL())\r\n        }\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error'\r\n        dispatch(stopSubmit('login', {_error: message}))\r\n    }\r\n}\r\n\r\nexport const logout = () => async (dispatch: Dispatch) => {\r\n    let response = await authAPI.logout()\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false))\r\n    }\r\n}\r\n\r\nexport const getCaptchaURL = () => async (dispatch: Dispatch<any>) => {\r\n    let response = await securityAPI.getCaptchaURL()\r\n    const captcha = response.data.url\r\n    dispatch(getCaptchaUrlSuccess(captcha))\r\n}\r\n\r\n\r\nexport default authReducer","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport { connect } from 'react-redux';\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport { logout} from \"../../redux/auth-reducer\";\r\n\r\n\r\n\r\n\r\n\r\ntype MapStateToPropsType = {\r\n    isAuth:boolean\r\n    login:string|null\r\n}\r\n\r\ntype MapDispatchToPropsType = {\r\n    logout:()=>void\r\n}\r\n\r\nlet mapStateToProps = (state: AppStateType): MapStateToPropsType => {\r\n    return {\r\n        isAuth:state.auth.isAuth,\r\n        login: state.auth.login,\r\n    }\r\n}\r\n\r\ntype HeaderContainerPropsType = MapStateToPropsType&MapDispatchToPropsType\r\n\r\nclass HeaderContainer extends React.Component<HeaderContainerPropsType> {\r\n\r\n\r\n\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,{logout})(HeaderContainer);","import {ActionsType} from \"./redux-store\";\r\nimport {Dispatch} from \"redux\";\r\nimport {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = \"INITIALIZED_SUCCESS\"\r\n\r\n\r\nexport type InitialStateType = typeof initialState\r\n\r\nlet initialState = {\r\n    initialized: false as boolean,\r\n}\r\n\r\nconst appReducer = (state: InitialStateType = initialState, action: ActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n\r\n}\r\n\r\nexport const initializedSuccess = () => (\r\n    {\r\n        type: INITIALIZED_SUCCESS,\r\n    } as const\r\n)\r\n\r\nexport const initializeApp = () => {\r\n    return (dispatch: Dispatch<any>) => {\r\n        let promise = dispatch<any>(getAuthUserData())\r\n        Promise.all([promise]).then(() => {\r\n                dispatch(initializedSuccess())\r\n            })\r\n    }\r\n}\r\n\r\n\r\nexport default appReducer","import React from 'react'\r\nimport {connect} from \"react-redux\";\r\nimport {loginWithHook} from \"../../redux/auth-reducer\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport styles from '../common/FormsControls/FormsControls.module.css'\r\nimport {SubmitHandler, useForm} from \"react-hook-form\";\r\n\r\n\r\ntype LoginPropsType = {\r\n    loginWithHook: (email: string, password: string, rememberMe: boolean,captcha:any, setError: Function) => void\r\n    isAuth: boolean\r\n    captchaUrl: null | string\r\n}\r\n\r\n\r\ntype DataType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n    captcha:any\r\n}\r\n\r\nconst Login = (props: LoginPropsType) => {\r\n    const {loginWithHook, isAuth, captchaUrl} = props\r\n    const {register, handleSubmit, setError, clearErrors, formState: {errors}} = useForm({mode: 'onBlur'});\r\n    const onSubmit: SubmitHandler<any> = (data: any) => {\r\n        loginWithHook(data.email, data.password, data.rememberMe ,data.captcha,setError)\r\n    }\r\n\r\n    if (isAuth) {\r\n        return <Redirect to={'/Profile'}/>\r\n    }\r\n\r\n    return <div>\r\n        <h1>Login</h1>\r\n\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n\r\n            <div>\r\n                <label>\r\n                    <input placeholder={\"E-mail\"}  {...register(\"email\", {required: true})}  />\r\n                    E-mail\r\n                </label>\r\n                {errors.email && <div className={styles.formSummaryError}>This field is required</div>}\r\n            </div>\r\n\r\n            <div>\r\n                <label>\r\n                    <input  placeholder={\"password\"}{...register(\"password\", {required: true})} />\r\n                    Password\r\n                </label>\r\n            </div>\r\n\r\n            {errors.password && <div className={styles.formSummaryError}>This field is required</div>}\r\n\r\n            <div>\r\n                <label>\r\n                    <input {...register(\"checkbox\")} type=\"checkbox\" value=\"A\"/>\r\n                    Remember me </label>\r\n            </div>\r\n            {errors.error && <div className={styles.formSummaryError}>{errors.error.message}</div>}\r\n            <div>\r\n                {captchaUrl && <div><img src={captchaUrl} alt=\"captcha\"/></div>}\r\n                {captchaUrl &&\r\n                <div>\r\n                    <label>\r\n                        <input {...register(\"captcha\", {required: true})} />\r\n                        Captcha\r\n                    </label>\r\n                </div>}\r\n\r\n\r\n                {/*<input {...register(\"captcha\", {required: true})} />*/}\r\n\r\n                <input type=\"submit\" onClick={()=>{clearErrors()}}/>\r\n            </div>\r\n\r\n        </form>\r\n\r\n    </div>\r\n}\r\n\r\ntype MapStateToPropsType = {\r\n    isAuth: boolean\r\n    captchaUrl: null | string\r\n}\r\n\r\nlet mapStateToProps = (state: AppStateType): MapStateToPropsType => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        captchaUrl: state.auth.captchaUrl\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, {loginWithHook})(Login)","import React, {Suspense} from 'react';\r\nimport './App.css';\r\nimport Navbar from \"./components/Navbar/Navbar\";\r\nimport {Route, RouteComponentProps, withRouter} from \"react-router-dom\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport LoginPage from \"./components/Login/Login\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {initializeApp} from \"./redux/app-reducer\";\r\nimport {AppStateType} from \"./redux/redux-store\";\r\nimport Preloader from \"./components/common/Preloader/Preloader\";\r\nimport LoginWithHook from \"./components/Login/LoginWithHook\";\r\n\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\n\r\ntype MapStatePropsType = {\r\n    initialized: boolean\r\n}\r\n\r\ntype MapDispatchToPropsType = {\r\n    initializeApp: () => void\r\n}\r\n\r\nclass App extends React.Component<MapDispatchToPropsType & MapStatePropsType & RouteComponentProps<any>> {\r\n\r\n    componentDidMount() {\r\n        this.props.initializeApp()\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        }\r\n\r\n        return (\r\n            <div className=\"app-wrapper\">\r\n                <HeaderContainer/>\r\n                <Navbar/>\r\n                <div className={'app-wrapper-content'}>\r\n                    <Suspense fallback={<Preloader/>}>\r\n                        <Route path='/dialogs' render={() => <DialogsContainer/>}/>\r\n                        <Route path='/profile/:userId?' render={() => <ProfileContainer/>}/>\r\n                        <Route path='/users' render={() => <UsersContainer/>}/>\r\n                        {/*<Route path='/login' render={() => <LoginPage/>}/>*/}\r\n                        <Route path='/login' render={() => <LoginWithHook/>}/>\r\n                    </Suspense>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\n\r\nlet mapStateToProps = (state: AppStateType): MapStatePropsType => ({\r\n    initialized: state.app.initialized\r\n})\r\n\r\nexport default compose<React.FC>(\r\n    withRouter,\r\n    connect(mapStateToProps, {initializeApp}))(App);\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport {ActionsType} from \"./redux-store\";\r\n\r\nexport type InitialStateType=typeof initialState\r\n\r\nlet initialState = {}\r\n\r\nconst sidebarReducer = (state:InitialStateType = initialState, action: ActionsType):InitialStateType => {\r\n    return state\r\n}\r\n\r\nexport default sidebarReducer","import {applyMiddleware, combineReducers, createStore,compose} from \"redux\";\r\nimport profileReducer, {\r\n    addPostActionCreator, deletePost, savePhotoSuccess,\r\n    setStatus,\r\n    setUserProfile,\r\n} from \"./profile-reducer\";\r\nimport dialogsReducer, {sendMessageActionCreator} from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer, {\r\n    followSuccess,\r\n    setCurrentPage,\r\n    setTotalUsersCount,\r\n    setUsers, toggleFollowingProgress,\r\n    toggleIsFetching,\r\n    unfollowSuccess\r\n} from \"./users-reducer\";\r\nimport authReducer, {getCaptchaUrlSuccess, setAuthUserData} from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\"\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport appReducer, {initializedSuccess} from \"./app-reducer\";\r\n\r\n\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app:appReducer,\r\n})\r\n\r\nexport type AppStateType = ReturnType<typeof reducers>\r\n\r\n\r\n const composeEnhancers =(window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n const store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nexport type ActionsType = ReturnType<typeof addPostActionCreator>\r\n    | ReturnType<typeof sendMessageActionCreator>\r\n    | ReturnType<typeof followSuccess>\r\n    | ReturnType<typeof unfollowSuccess>\r\n    | ReturnType<typeof setUsers>\r\n    | ReturnType<typeof setCurrentPage>\r\n    | ReturnType<typeof setTotalUsersCount>\r\n    | ReturnType<typeof toggleIsFetching>\r\n    | ReturnType<typeof setUserProfile>\r\n    | ReturnType<typeof setAuthUserData>\r\n    | ReturnType<typeof toggleFollowingProgress>\r\n    | ReturnType<typeof setStatus>\r\n    | ReturnType<typeof initializedSuccess>\r\n    | ReturnType<typeof deletePost>\r\n    | ReturnType<typeof savePhotoSuccess>\r\n    | ReturnType<typeof getCaptchaUrlSuccess>\r\n\r\n\r\n\r\n// export type StoreType = {\r\n//     subscribe: (observer: () => void) => void\r\n//     getState: () => AppStateType\r\n//     dispatch: (action: ActionsType) => void\r\n// }\r\nexport type StoreType = typeof store\r\n\r\n//@ts-ignore\r\nwindow.store=store\r\n\r\nexport default store","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport {HashRouter} from \"react-router-dom\";\r\nimport store from \"./redux/redux-store\";\r\nimport {Provider} from \"react-redux\";\r\n\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <HashRouter>\r\n            <Provider store={store}>\r\n                <App/>\r\n            </Provider>\r\n        </HashRouter>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\n\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","export default __webpack_public_path__ + \"static/media/Spinner-1s-200px.662afe46.svg\";","import preloader from \"../../../assets/images/Spinner-1s-200px.svg\";\r\nimport React from \"react\";\r\n\r\nlet Preloader = () => {\r\n\r\n    return <img src={preloader}/>\r\n\r\n}\r\n\r\nexport default Preloader","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3vv6I\",\"error\":\"FormsControls_error__3larS\",\"formSummaryError\":\"FormsControls_formSummaryError__9Xn4F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__mM45S\",\"paginator\":\"Paginator_paginator__38gDO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__22-pC\",\"loginBlock\":\"Header_loginBlock__2ePBD\"};","import {ActionsType, AppStateType} from \"./redux-store\";\r\nimport {profileAPI, usersAPI} from \"../api/api\";\r\nimport {Dispatch} from \"redux\";\r\nimport {InputsType} from \"../components/Profile/ProfileDataForm\";\r\n\r\nconst ADD_POST = 'ADD-POST'\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE'\r\nconst SET_STATUS = 'SET_STATUS'\r\nconst DELETE_POST = 'DELETE_POST'\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS'\r\n\r\nexport type PostType = {\r\n    id: number\r\n    message: string\r\n    likesCount: number\r\n}\r\n\r\n\r\nexport type ProfileType = {\r\n    aboutMe: string | null\r\n    userId: number\r\n    lookingForAJob: boolean\r\n    lookingForAJobDescription: string\r\n    fullName: string\r\n    contacts: {\r\n        // github : string|null\r\n        // vk: string|null\r\n        // facebook: string|null\r\n        // instagram: string|null\r\n        // twitter: string|null\r\n        // youtube: string|null\r\n        // mainLink: string|null\r\n        [key: string]: string | null\r\n    }\r\n    photos: {\r\n        small: string,\r\n        large: string\r\n    }\r\n} | null\r\n\r\n\r\nexport type InitialStateType = typeof initialState\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: 'Hi, how are you?', likesCount: 12},\r\n        {id: 2, message: `It's my first post`, likesCount: 11}\r\n    ],\r\n    profile: null as ProfileType,\r\n    status: '',\r\n}\r\n\r\nconst profileReducer = (state: InitialStateType = initialState, action: ActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            return {\r\n                ...state, posts: [...state.posts, {\r\n                    id: 3,\r\n                    message: action.newPostText,\r\n                    likesCount: 0\r\n                }],\r\n            }\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state, profile: action.profile\r\n            }\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state, status: action.status\r\n            }\r\n        }\r\n        case DELETE_POST: {\r\n            return {\r\n                ...state, posts: state.posts.filter(p => p.id != action.postId)\r\n            }\r\n        }\r\n\r\n        case SAVE_PHOTO_SUCCESS: {\r\n            // return {...state, profile:{ ...state.profile,photos:action.photos}}\r\n\r\n            if (state.profile) return {...state, profile: {...state.profile, photos: action.photos}}\r\n            else return state\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText: string) => (\r\n    {\r\n        type: ADD_POST,\r\n        newPostText\r\n    } as const\r\n)\r\n\r\nexport const setUserProfile = (profile: ProfileType) => (\r\n    {\r\n        type: SET_USER_PROFILE,\r\n        profile\r\n    } as const\r\n)\r\n\r\nexport const setStatus = (status: string) => (\r\n    {\r\n        type: SET_STATUS,\r\n        status\r\n    } as const\r\n)\r\n\r\nexport const savePhotoSuccess = (photos: {\r\n    small: string,\r\n    large: string\r\n}) => (\r\n    {\r\n        type: SAVE_PHOTO_SUCCESS,\r\n        photos\r\n    } as const\r\n)\r\n\r\n\r\nexport const deletePost = (postId: number) => (\r\n    {\r\n        type: DELETE_POST,\r\n        postId\r\n    } as const\r\n)\r\n\r\nexport const getUserProfile = (userId: string | null) => async (dispatch: Dispatch<ActionsType>) => {\r\n    let response = await usersAPI.getProfile(userId)\r\n    dispatch(setUserProfile(response.data))\r\n}\r\n\r\nexport const getStatus = (userId: string) => async (dispatch: Dispatch<ActionsType>) => {\r\n    let response = await profileAPI.getStatus(userId)\r\n    dispatch(setStatus(response.data))\r\n}\r\n\r\nexport const updateStatus = (status: string) => async (dispatch: Dispatch<ActionsType>) => {\r\n    let response = await profileAPI.updateStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status))\r\n    }\r\n}\r\n\r\nexport const savePhoto = (file: File) => async (dispatch: Dispatch<ActionsType>) => {\r\n    let response = await profileAPI.savePhoto(file)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos))\r\n    }\r\n}\r\n\r\nexport const saveProfile = (profile: InputsType, setError: Function,setEditMode:Function) => async (dispatch: Dispatch<any>, getState: () => AppStateType) => {\r\n    const userId = getState().auth.id\r\n    let response = await profileAPI.saveProfile(profile)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getUserProfile(userId))\r\n        setEditMode(false)\r\n\r\n    } else {\r\n        setError('error', {\r\n            type: \"server\",\r\n            message: response.data.messages[0],\r\n        });\r\n        // return Promise.resolve(response.data.messages[0])\r\n    }\r\n}\r\n\r\n\r\nexport default profileReducer\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/user.ab7efdc7.png\";","import {ActionsType} from \"./redux-store\";\r\n\r\nconst SEND_MESSAGE = \"SEND-MESSAGE\"\r\n\r\nexport type DialogType = {\r\n    id: number\r\n    name: string\r\n}\r\n\r\nexport type MessageType = {\r\n    id: number\r\n    message: string\r\n}\r\n\r\nexport type InitialStateType = typeof initialState\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: 'Dimych'},\r\n        {id: 2, name: 'Andrey'},\r\n        {id: 3, name: 'Sveta'},\r\n        {id: 4, name: 'Sasha'},\r\n        {id: 5, name: 'Victor'},\r\n        {id: 6, name: 'Valera'}\r\n    ] as DialogType[],\r\n    messages: [\r\n        {id: 1, message: 'Hi'},\r\n        {id: 2, message: 'How is your it-kamasutra?'},\r\n        {id: 3, message: 'Yo'},\r\n    ] as MessageType[],\r\n}\r\n\r\nconst dialogsReducer = (state: InitialStateType = initialState, action: ActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 4, message: action.newMessageBody}]\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const sendMessageActionCreator = (newMessageBody: string) => (\r\n    {\r\n        type: SEND_MESSAGE,\r\n        newMessageBody\r\n    } as const\r\n)\r\n\r\n\r\nexport default dialogsReducer\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__13p0E\"};"],"sourceRoot":""}