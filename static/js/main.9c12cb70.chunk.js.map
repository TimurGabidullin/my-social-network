{"version":3,"sources":["redux/dialogs-reducer.ts","components/Users/users.module.css","api/api.ts","components/Navbar/Navbar.module.css","components/Navbar/Navbar.tsx","redux/users-reducer.ts","components/common/Paginator/Paginator.tsx","assets/images/user.png","components/Users/User.tsx","components/Users/Users.tsx","redux/users-selectors.ts","components/Users/UsersContainer.tsx","components/Header/Header.tsx","redux/auth-reducer.ts","components/Header/HeaderContainer.tsx","components/Login/Login.tsx","redux/app-reducer.ts","App.tsx","reportWebVitals.ts","redux/sidebar-reducer.ts","redux/redux-store.tsx","index.tsx","components/common/FormsControls/FormsControls.module.css","assets/images/Spinner-1s-200px.svg","components/common/Preloader/Preloader.tsx","components/common/FormsControls/FormsControls.tsx","utils/validators/validators.ts","components/common/Paginator/Paginator.module.css","components/Header/Header.module.css","redux/profile-reducer.ts"],"names":["SEND_MESSAGE","initialState","dialogs","id","name","messages","message","sendMessageActionCreator","newMessageBody","type","dialogsReducer","state","action","module","exports","instance","axios","create","baseURL","withCredentials","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","unfollow","userId","delete","follow","post","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","Navbar","className","s","nav","item","to","activeClassName","activeLink","active","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","map","u","followed","filter","Paginator","props","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","paginator","onClick","p","selectedPage","User","user","src","photos","small","userPhoto","disabled","some","Users","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","pageNumber","requestUsers","this","Preloader","React","Component","compose","connect","bind","page","items","totalCount","Header","isAuth","header","alt","loginBlock","SET_USER_DATA","setAuthUserData","payload","getAuthUserData","authReducer","HeaderContainer","auth","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","Field","placeholder","component","Input","validate","required","formSummaryError","length","stopSubmit","_error","formData","INITIALIZED_SUCCESS","initialized","appReducer","DialogsContainer","lazy","ProfileContainer","App","initializeApp","fallback","path","render","withRouter","app","promise","Promise","all","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","StrictMode","basename","process","document","getElementById","preloader","TextArea","input","meta","hasError","touched","formControl","value","maxLengthCreator","maxLength","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","posts","likesCount","profile","addPostActionCreator","newPostText","setStatus","getUserProfile","postId"],"mappings":"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","file":"static/js/main.9c12cb70.chunk.js","sourcesContent":["import {ActionsType} from \"./redux-store\";\r\n\r\nconst SEND_MESSAGE = \"SEND-MESSAGE\"\r\n\r\nexport type DialogType = {\r\n    id: number\r\n    name: string\r\n}\r\n\r\nexport type MessageType = {\r\n    id: number\r\n    message: string\r\n}\r\n\r\nexport type InitialStateType = typeof initialState\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: 'Dimych'},\r\n        {id: 2, name: 'Andrey'},\r\n        {id: 3, name: 'Sveta'},\r\n        {id: 4, name: 'Sasha'},\r\n        {id: 5, name: 'Victor'},\r\n        {id: 6, name: 'Valera'}\r\n    ] as DialogType[],\r\n    messages: [\r\n        {id: 1, message: 'Hi'},\r\n        {id: 2, message: 'How is your it-kamasutra?'},\r\n        {id: 3, message: 'Yo'},\r\n    ] as MessageType[],\r\n}\r\n\r\nconst dialogsReducer = (state: InitialStateType = initialState, action: ActionsType):InitialStateType => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 4, message: action.newMessageBody}]\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const sendMessageActionCreator = (newMessageBody:string) => (\r\n    {\r\n        type: SEND_MESSAGE,\r\n        newMessageBody\r\n    } as const\r\n)\r\n\r\n\r\n\r\n\r\nexport default dialogsReducer\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__13p0E\"};","import axios from \"axios\";\r\n\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: {\r\n        \"API-KEY\": 'fc9ea6e0-1fb2-438a-8945-f3bcb731cc84'\r\n    },\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data)\r\n    },\r\n    unfollow(userId: string) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n    follow(userId: string) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n    getProfile(userId: string) {\r\n        console.warn('Obselete method. Please use profileAPI object.')\r\n        return profileAPI.getProfile(userId)\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId: string) {\r\n        return instance.get(`profile/` + userId)\r\n    },\r\n    getStatus(userId: string){\r\n        return instance.get(`profile/status/` + userId)\r\n    },\r\n    updateStatus(status: string){\r\n        return instance.put(`profile/status/`,{status} )\r\n    },\r\n}\r\n\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login(email:string,password:string,rememberMe:boolean=false) {\r\n        return instance.post(`auth/login`,{email,password,rememberMe})\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n    }\r\n\r\n\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2cfYL\",\"item\":\"Navbar_item__2I3CI\",\"activeLink\":\"Navbar_activeLink__ebbk1\"};","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './Navbar.module.css';\r\n\r\nconst Navbar = () => {\r\n    return <nav className={s.nav}>\r\n        <div className={s.item}>\r\n            <NavLink to={'/profile'} activeClassName={s.activeLink}>Profile</NavLink>\r\n        </div>\r\n        <div className={`${s.item} ${s.active}`}>\r\n            <NavLink to={'/dialogs'} activeClassName={s.activeLink}>Messages</NavLink>\r\n        </div>\r\n        <div className={`${s.item} ${s.active}`}>\r\n            <NavLink to={'/users'} activeClassName={s.activeLink}>Users</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n            <NavLink to={'/news'}>News</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n            <NavLink to={'music'} activeClassName={s.activeLink}>Music</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n            <NavLink to={'settings'}>Settings</NavLink>\r\n        </div>\r\n    </nav>\r\n}\r\n\r\n\r\nexport default Navbar;","import {ActionsType} from \"./redux-store\";\r\nimport {Dispatch} from \"redux\";\r\nimport {usersAPI} from \"../api/api\";\r\nimport {AxiosResponse} from \"axios\";\r\n\r\nconst FOLLOW = \"FOLLOW\"\r\nconst UNFOLLOW = \"UNFOLLOW\"\r\nconst SET_USERS = \"SET_USERS\"\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\"\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\"\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\"\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE_IS_FOLLOWING_PROGRESS\"\r\n\r\nexport type UserType = {\r\n    id: string\r\n    photos: { small: string, large: string }\r\n    followed: boolean\r\n    name: string\r\n    status: string\r\n    location: { city: string, country: string }\r\n}\r\n\r\nexport type InitialStateType = typeof initialState\r\n\r\nlet initialState = {\r\n    users: [] as UserType[],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [] as string[] | [],\r\n}\r\n\r\nconst usersReducer = (state: InitialStateType = initialState, action: ActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: true}\r\n                    }\r\n                    return u\r\n                })\r\n            }\r\n\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: false}\r\n                    }\r\n                    return u\r\n                })\r\n            }\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: [...action.users]\r\n            }\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.totalUsersCount\r\n            }\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n\r\n}\r\n\r\nexport const followSuccess = (userId: string) => (\r\n    {\r\n        type: FOLLOW,\r\n        userId\r\n    } as const\r\n)\r\n\r\nexport const unfollowSuccess = (userId: string) => (\r\n    {\r\n        type: UNFOLLOW,\r\n        userId\r\n    } as const\r\n)\r\n\r\nexport const setUsers = (users: UserType[]) => (\r\n    {\r\n        type: SET_USERS,\r\n        users\r\n    } as const\r\n)\r\n\r\nexport const setCurrentPage = (currentPage: number) => (\r\n    {\r\n        type: SET_CURRENT_PAGE,\r\n        currentPage\r\n    } as const\r\n)\r\nexport const setTotalUsersCount = (totalUsersCount: number) => (\r\n    {\r\n        type: SET_TOTAL_USERS_COUNT,\r\n        totalUsersCount\r\n    } as const\r\n)\r\n\r\nexport const toggleIsFetching = (isFetching: boolean) => (\r\n    {\r\n        type: TOGGLE_IS_FETCHING,\r\n        isFetching\r\n    } as const\r\n)\r\n\r\nexport const toggleFollowingProgress = (isFetching: boolean, userId: string) => (\r\n    {\r\n        type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n        isFetching,\r\n        userId,\r\n    } as const\r\n)\r\n\r\nexport const requestUsers = (page: number, pageSize: number) => async (dispatch: Dispatch) => {\r\n    dispatch(toggleIsFetching(true))\r\n    dispatch(setCurrentPage(page))\r\n    let data = await usersAPI.getUsers(page, pageSize)\r\n    dispatch(toggleIsFetching(false))\r\n    dispatch(setUsers(data.items))\r\n    dispatch(setTotalUsersCount(data.totalCount))\r\n}\r\n\r\nconst followUnfollowFlow=async (dispatch:Dispatch,userId:string,apiMethod: any,actionCreator:any)=>{\r\n    dispatch(toggleFollowingProgress(true, userId))\r\n    let response = await apiMethod(userId)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId))\r\n}\r\n\r\nexport const follow = (userId: string) => async (dispatch: Dispatch) => {\r\n    followUnfollowFlow(dispatch,userId,usersAPI.follow.bind(usersAPI),followSuccess)\r\n}\r\n\r\nexport const unfollow = (userId: string) => async (dispatch: Dispatch) => {\r\n    followUnfollowFlow(dispatch,userId,usersAPI.unfollow.bind(usersAPI),unfollowSuccess)\r\n}\r\n\r\nexport default usersReducer\r\n\r\n\r\n","import React, {useState} from \"react\";\r\nimport styles from \"../Paginator/Paginator.module.css\";\r\n\r\ntype UsersPropsType = {\r\n    pageSize:number\r\n    portionSize:number\r\n    totalItemsCount: number\r\n    currentPage:number\r\n    onPageChanged:(pageNumber:number)=>void\r\n}\r\n\r\nlet Paginator: React.FC<UsersPropsType> = (props) => {\r\n\r\n    const {\r\n        pageSize,\r\n        totalItemsCount,\r\n        currentPage,\r\n        onPageChanged,\r\n        portionSize,\r\n    } = props\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize)\r\n    let pages = []\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize)\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize - 1\r\n    let rightPortionPageNumber = portionNumber * portionSize\r\n\r\n    return <div className={styles.paginator}>\r\n        {portionNumber > 1 && <button onClick={() => setPortionNumber(portionNumber - 1)}>PREV</button>}\r\n\r\n        {pages\r\n            .filter((p) => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n            .map(p => {\r\n                    let onPageChangedHandler = () => {\r\n                        onPageChanged(p)\r\n                    }\r\n                    return <span className={currentPage === p ? styles.selectedPage : ''}\r\n                                 onClick={onPageChangedHandler} key={p}>{p}</span>\r\n                }\r\n            )}\r\n\r\n        {portionCount > portionNumber && <button onClick={() => setPortionNumber(portionNumber + 1)}>NEXT</button>}\r\n\r\n    </div>\r\n\r\n}\r\nexport default Paginator","export default __webpack_public_path__ + \"static/media/user.ab7efdc7.png\";","import React from \"react\";\r\nimport styles from \"./users.module.css\";\r\nimport userPhoto from \"../../assets/images/user.png\";\r\nimport {UserType} from \"../../redux/users-reducer\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\n\r\ntype UsersPropsType = {\r\n    user: UserType\r\n    follow: (userId: string) => void\r\n    unfollow: (userId: string) => void\r\n    followingInProgress: string[] | []\r\n}\r\n\r\n\r\nlet User: React.FC<UsersPropsType> = (props) => {\r\n\r\n    const {\r\n        user,\r\n        follow,\r\n        unfollow,\r\n        followingInProgress,\r\n    } = props\r\n    \r\n    return <div>\r\n                <div>\r\n                    <NavLink to={'/profile/' + user.id}><img src={user.photos.small !== null ? user.photos.small : userPhoto}\r\n                                                          className={styles.userPhoto}/></NavLink>\r\n                </div>\r\n                <div>\r\n                    {user.followed\r\n                        ? <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                            unfollow(user.id)\r\n\r\n                        }}>Unfollow</button>\r\n                        : <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                            follow(user.id)\r\n                        }}>Follow</button>}\r\n                </div>\r\n                <div>{user.name}</div>\r\n                <div>{user.status}</div>\r\n                <div>{\"u.location.country\"}</div>\r\n                <div>{\"u.location.city\"}</div>\r\n\r\n            </div>\r\n}\r\nexport default User","import React from \"react\";\r\nimport {UserType} from \"../../redux/users-reducer\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\ntype UsersPropsType = {\r\n    users: UserType[]\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    follow: (userId: string) => void\r\n    unfollow: (userId: string) => void\r\n    currentPage: number\r\n    onPageChanged: (pageNumber: number) => void\r\n    followingInProgress: string[] | []\r\n}\r\n\r\n\r\nlet Users: React.FC<UsersPropsType> = (props) => {\r\n\r\n    const {\r\n        users,\r\n        pageSize,\r\n        totalUsersCount,\r\n        follow,\r\n        unfollow,\r\n        currentPage,\r\n        onPageChanged,\r\n        followingInProgress,\r\n    } = props\r\n\r\n    return <div>\r\n        <Paginator pageSize={pageSize} totalItemsCount={totalUsersCount} currentPage={currentPage}\r\n                   onPageChanged={onPageChanged} portionSize={10}/>\r\n        <div>\r\n            {\r\n                users.map(u => <User user={u} follow={follow} unfollow={unfollow}\r\n                                     followingInProgress={followingInProgress}\r\n                                     key={u.id}/>\r\n                )\r\n            }\r\n        </div>\r\n    </div>\r\n}\r\nexport default Users","import {AppStateType} from \"./redux-store\";\r\nimport {createSelector} from \"reselect\";\r\n\r\n const getUsersSelector=(state: AppStateType)=>{\r\n    return  state.usersPage.users\r\n}\r\n\r\nexport const getUsers=createSelector(getUsersSelector,(users)=>{\r\n   return users.filter(u=>true)\r\n})\r\n\r\nexport const getPageSize=(state: AppStateType)=>{\r\n    return  state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount=(state: AppStateType)=>{\r\n    return  state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage=(state: AppStateType)=>{\r\n    return  state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching=(state: AppStateType)=>{\r\n    return  state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress=(state: AppStateType)=>{\r\n    return state.usersPage.followingInProgress\r\n}","import React from 'react'\r\nimport {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\n\r\nimport {\r\n    follow, requestUsers,\r\n    setCurrentPage,\r\n    unfollow,\r\n    UserType\r\n} from \"../../redux/users-reducer\";\r\n\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getUsers,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getCurrentPage,\r\n    getIsFetching,\r\n    getFollowingInProgress,\r\n} from \"../../redux/users-selectors\";\r\n\r\n\r\ntype MapStateToPropsType = {\r\n    users: UserType[]\r\n    pageSize: number\r\n    totalItemsCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: string[] | []\r\n}\r\n\r\ntype MapDispatchToPropsType = {\r\n    follow: (userId: string) => void\r\n    unfollow: (userId: string) => void\r\n    setCurrentPage: (pageNumber: number) => void\r\n    requestUsers: (currentPage: number, pageSize: number) => void\r\n}\r\n\r\nlet mapStateToProps = (state: AppStateType): { followingInProgress: string[] | []; totalUsersCount: number; pageSize: any; isFetching: boolean; currentPage: number; users: UserType[]} => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n    }\r\n}\r\n\r\ntype UsersContainerPropsType = {\r\n    users: UserType[]\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    isFetching: boolean\r\n    follow: (userId: string) => void\r\n    unfollow: (userId: string) => void\r\n    currentPage: number\r\n    setCurrentPage: (pageNumber: number) => void\r\n    followingInProgress: string[] | []\r\n    requestUsers: (currentPage: number, pageSize: number) => void\r\n}\r\n\r\nclass UsersContainer extends React.Component<UsersContainerPropsType, any> {\r\n\r\n    constructor(props: UsersContainerPropsType) {\r\n        super(props);\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        this.props.requestUsers(this.props.currentPage, this.props.pageSize)\r\n\r\n    }\r\n\r\n    onPageChanged = (pageNumber: number) => {\r\n        this.props.requestUsers(pageNumber, this.props.pageSize)\r\n        this.props.setCurrentPage(pageNumber)\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users onPageChanged={this.onPageChanged}\r\n                   users={this.props.users}\r\n                   pageSize={this.props.pageSize}\r\n                   totalUsersCount={this.props.totalUsersCount}\r\n                   follow={this.props.follow}\r\n                   unfollow={this.props.unfollow}\r\n                   currentPage={this.props.currentPage}\r\n                   followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default compose<React.ComponentType>(connect(mapStateToProps, {\r\n        follow,\r\n        unfollow,\r\n        setCurrentPage,\r\n        requestUsers,\r\n    } as MapDispatchToPropsType),\r\n)(UsersContainer)","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\ntype HeaderPropsType = {\r\n    isAuth: boolean\r\n    login: string | null\r\n    logout:()=>void\r\n}\r\n\r\nconst Header: React.FC<HeaderPropsType> = (props) => {\r\n    const {isAuth, login,logout} = props\r\n    return <header className={s.header}>\r\n        <img\r\n            src=\"data:image/png;base64,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\"\r\n            alt=\"\"/>\r\n        <div className={s.loginBlock}>\r\n            {isAuth ?<div> {login}-<button onClick={logout}>Logout</button> </div>: <NavLink to={'/login'}>login</NavLink>}\r\n        </div>\r\n    </header>\r\n}\r\n\r\n\r\nexport default Header;","import {ActionsType} from \"./redux-store\";\r\nimport {AnyAction, Dispatch} from \"redux\";\r\nimport {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = \"samurai-network/auth/SET_USER_DATA\"\r\n\r\nexport type InitialStateType = typeof initialState\r\n\r\nlet initialState = {\r\n    id: null as string | null,\r\n    email: null as string | null,\r\n    login: null as string | null,\r\n    isAuth: false,\r\n}\r\n\r\nconst authReducer = (state: InitialStateType = initialState, action: ActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n\r\n}\r\n\r\nexport const setAuthUserData = (id: string | null, email: string | null, login: string | null, isAuth: boolean) => (\r\n    {\r\n        type: SET_USER_DATA,\r\n        payload: {\r\n            id,\r\n            email,\r\n            login,\r\n            isAuth,\r\n        },\r\n    } as const\r\n)\r\n\r\nexport const getAuthUserData = () => async (dispatch: Dispatch) => {\r\n    let response = await authAPI.me()\r\n    if (response.data.resultCode === 0) {\r\n        let {id, login, email} = response.data.data\r\n        dispatch(setAuthUserData(id, login, email, true))\r\n    }\r\n}\r\n\r\nexport const login = (email: string, password: string, rememberMe: boolean) => async (dispatch: Dispatch<any>) => {\r\n    let response = await authAPI.login(email, password, rememberMe)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData());\r\n    } else {\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error'\r\n        dispatch(stopSubmit('login', {_error: message}))\r\n    }\r\n}\r\n\r\nexport const logout = () => async (dispatch: Dispatch) => {\r\n    let response = await authAPI.logout()\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false))\r\n    }\r\n}\r\n\r\n\r\nexport default authReducer","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport { connect } from 'react-redux';\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport { logout} from \"../../redux/auth-reducer\";\r\n\r\n\r\n\r\n\r\n\r\ntype MapStateToPropsType = {\r\n    isAuth:boolean\r\n    login:string|null\r\n}\r\n\r\ntype MapDispatchToPropsType = {\r\n    logout:()=>void\r\n}\r\n\r\nlet mapStateToProps = (state: AppStateType): MapStateToPropsType => {\r\n    return {\r\n        isAuth:state.auth.isAuth,\r\n        login: state.auth.login,\r\n    }\r\n}\r\n\r\ntype HeaderContainerPropsType = MapStateToPropsType&MapDispatchToPropsType\r\n\r\nclass HeaderContainer extends React.Component<HeaderContainerPropsType> {\r\n\r\n\r\n\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,{logout})(HeaderContainer);","import React from 'react'\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../common/FormsControls/FormsControls\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport styles from '../common/FormsControls/FormsControls.module.css'\r\n\r\n\r\ntype FormDataType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n}\r\n\r\nconst LoginForm: React.FC<InjectedFormProps<FormDataType>> = (props) => {\r\n\r\n    const {handleSubmit, error} = props\r\n\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div>\r\n                <Field placeholder={'Email'}\r\n                       name={'email'}\r\n                       component={Input}\r\n                       validate={[required]}/>\r\n            </div>\r\n            <div>\r\n                <Field placeholder={'Password'}\r\n                       name={'password'}\r\n                       component={Input}\r\n                       validate={[required]}/>\r\n            </div>\r\n            <div>\r\n                <Field component={Input}\r\n                       name={'rememberMe'}\r\n                       type={'checkbox'}/>Remember me\r\n            </div>\r\n\r\n            {error && <div className={styles.formSummaryError}>\r\n                {error}\r\n            </div>}\r\n\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm<FormDataType>({form: 'login'})(LoginForm)\r\n\r\n\r\ntype LoginPropsType = {\r\n    login: (email: string, password: string, rememberMe: boolean) => void\r\n    isAuth: boolean\r\n}\r\n\r\nconst Login = (props: LoginPropsType) => {\r\n    const {login, isAuth} = props\r\n\r\n    const onSubmit = (formData: FormDataType) => {\r\n        login(formData.email, formData.password, formData.rememberMe)\r\n    }\r\n\r\n    if (isAuth) {\r\n        return <Redirect to={'/Profile'}/>\r\n    }\r\n    return <div>\r\n        <h1>Login</h1>\r\n        <LoginReduxForm onSubmit={onSubmit}/>\r\n    </div>\r\n}\r\n\r\ntype MapStateToPropsType = {\r\n    isAuth: boolean\r\n}\r\n\r\nlet mapStateToProps = (state: AppStateType): MapStateToPropsType => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, {login})(Login)","import {ActionsType} from \"./redux-store\";\r\nimport {Dispatch} from \"redux\";\r\nimport {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = \"INITIALIZED_SUCCESS\"\r\n\r\n\r\nexport type InitialStateType = typeof initialState\r\n\r\nlet initialState = {\r\n    initialized: false as boolean,\r\n}\r\n\r\nconst appReducer = (state: InitialStateType = initialState, action: ActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n\r\n}\r\n\r\nexport const initializedSuccess = () => (\r\n    {\r\n        type: INITIALIZED_SUCCESS,\r\n    } as const\r\n)\r\n\r\nexport const initializeApp = () => {\r\n    return (dispatch: Dispatch<any>) => {\r\n        let promise = dispatch<any>(getAuthUserData())\r\n        Promise.all([promise]).then(() => {\r\n                dispatch(initializedSuccess())\r\n            })\r\n    }\r\n}\r\n\r\n\r\nexport default appReducer","import React, { Suspense } from 'react';\r\nimport './App.css';\r\nimport Navbar from \"./components/Navbar/Navbar\";\r\n// import DialogsContainer from \"./components/Dialogs/DialogsContainer\";\r\nimport {Route, RouteComponentProps, withRouter} from \"react-router-dom\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\n// import ProfileContainer from \"./components/Profile/ProfileContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport LoginPage from \"./components/Login/Login\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {initializeApp} from \"./redux/app-reducer\";\r\nimport {AppStateType} from \"./redux/redux-store\";\r\nimport Preloader from \"./components/common/Preloader/Preloader\";\r\n\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\n\r\n\r\n\r\n\r\n\r\ntype MapDispatchToPropsType = {\r\n    initializeApp:()=>void\r\n}\r\n\r\n\r\nclass App extends React.Component<MapDispatchToPropsType&MapStatePropsType&RouteComponentProps<any>> {\r\n\r\n\r\n    componentDidMount()\r\n    {\r\n        this.props.initializeApp()\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        if(!this.props.initialized){\r\n            return <Preloader/>\r\n        }\r\n\r\n        return (\r\n            <div className=\"app-wrapper\">\r\n                <HeaderContainer/>\r\n                <Navbar/>\r\n                <div className={'app-wrapper-content'}>\r\n                    <Suspense fallback={<Preloader/>}>\r\n                    <Route path='/dialogs' render={() => <DialogsContainer/>}/>\r\n                    <Route path='/profile/:userId?' render={() => <ProfileContainer/>}/>\r\n                    <Route path='/users' render={() => <UsersContainer/>}/>\r\n                    <Route path='/login' render={() => <LoginPage/>}/>\r\n                    </Suspense>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\ntype MapStatePropsType = {\r\n    initialized: boolean\r\n}\r\n\r\nlet mapStateToProps = (state: AppStateType): MapStatePropsType => ({\r\n    initialized: state.app.initialized\r\n})\r\n\r\nexport default compose<React.FC>(\r\n    withRouter,\r\n    connect(mapStateToProps,{initializeApp}))(App);\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport {ActionsType} from \"./redux-store\";\r\n\r\nexport type InitialStateType=typeof initialState\r\n\r\nlet initialState = {}\r\n\r\nconst sidebarReducer = (state:InitialStateType = initialState, action: ActionsType):InitialStateType => {\r\n    return state\r\n}\r\n\r\nexport default sidebarReducer","import {applyMiddleware, combineReducers, createStore,compose} from \"redux\";\r\nimport profileReducer, {\r\n    addPostActionCreator, deletePost,\r\n    setStatus,\r\n    setUserProfile,\r\n} from \"./profile-reducer\";\r\nimport dialogsReducer, {sendMessageActionCreator} from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer, {\r\n    followSuccess,\r\n    setCurrentPage,\r\n    setTotalUsersCount,\r\n    setUsers, toggleFollowingProgress,\r\n    toggleIsFetching,\r\n    unfollowSuccess\r\n} from \"./users-reducer\";\r\nimport authReducer, {setAuthUserData} from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\"\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport appReducer, {initializedSuccess} from \"./app-reducer\";\r\n\r\n\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app:appReducer,\r\n})\r\n\r\nexport type AppStateType = ReturnType<typeof reducers>\r\n\r\n\r\n const composeEnhancers =(window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n const store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nexport type ActionsType = ReturnType<typeof addPostActionCreator>\r\n    | ReturnType<typeof sendMessageActionCreator>\r\n    | ReturnType<typeof followSuccess>\r\n    | ReturnType<typeof unfollowSuccess>\r\n    | ReturnType<typeof setUsers>\r\n    | ReturnType<typeof setCurrentPage>\r\n    | ReturnType<typeof setTotalUsersCount>\r\n    | ReturnType<typeof toggleIsFetching>\r\n    | ReturnType<typeof setUserProfile>\r\n    | ReturnType<typeof setAuthUserData>\r\n    | ReturnType<typeof toggleFollowingProgress>\r\n    | ReturnType<typeof setStatus>\r\n    | ReturnType<typeof initializedSuccess>\r\n    | ReturnType<typeof deletePost>\r\n\r\n\r\n// export type StoreType = {\r\n//     subscribe: (observer: () => void) => void\r\n//     getState: () => AppStateType\r\n//     dispatch: (action: ActionsType) => void\r\n// }\r\nexport type StoreType = typeof store\r\n\r\n\r\n// @ts-ignore\r\n// store=window.store\r\n\r\nexport default store","\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport {BrowserRouter} from \"react-router-dom\";\r\nimport store from \"./redux/redux-store\";\r\nimport {Provider} from \"react-redux\";\r\n\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n            <Provider store={store}>\r\n                <App/>\r\n            </Provider>\r\n        </BrowserRouter>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\n\r\n\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3vv6I\",\"error\":\"FormsControls_error__3larS\",\"formSummaryError\":\"FormsControls_formSummaryError__9Xn4F\"};","export default __webpack_public_path__ + \"static/media/Spinner-1s-200px.662afe46.svg\";","import preloader from \"../../../assets/images/Spinner-1s-200px.svg\";\r\nimport React from \"react\";\r\n\r\nlet Preloader = () => {\r\n\r\n    return <img src={preloader}/>\r\n\r\n}\r\n\r\nexport default Preloader","import React from \"react\";\r\nimport styles from \"./FormsControls.module.css\";\r\nimport {Field} from \"redux-form\";\r\nimport {required} from \"../../../utils/validators/validators\";\r\n\r\ntype TextAreaInputPropsType = {\r\n    input: any\r\n    meta: any\r\n}\r\n\r\nexport const TextArea: React.FC<TextAreaInputPropsType> = ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error\r\n    return (\r\n        <div className={styles.formControl + ' ' + (hasError ? styles.error : '')}>\r\n            <div>\r\n                <textarea {...input} {...meta} {...props}/>\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport const Input: React.FC<TextAreaInputPropsType> = ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error\r\n    return (\r\n        <div className={styles.formControl + ' ' + (hasError ? styles.error : '')}>\r\n            <div>\r\n                <input {...input} {...meta} {...props}/>\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\n\r\n","export const required = (value: string) => {\r\n    if (value) return undefined\r\n    return 'Field is required'\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength: number) => (value: string) => {\r\n    if (value && value.length > maxLength) return `max length is ${maxLength} symbols`\r\n    return undefined\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__mM45S\",\"paginator\":\"Paginator_paginator__38gDO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__22-pC\",\"loginBlock\":\"Header_loginBlock__2ePBD\"};","import {ActionsType} from \"./redux-store\";\r\nimport {profileAPI, usersAPI} from \"../api/api\";\r\nimport {Dispatch} from \"redux\";\r\n\r\nconst ADD_POST = 'ADD-POST'\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE'\r\nconst SET_STATUS = 'SET_STATUS'\r\nconst DELETE_POST = 'DELETE_POST'\r\n\r\nexport type PostType = {\r\n    id: number\r\n    message: string\r\n    likesCount: number\r\n}\r\n\r\nexport type ProfileType = {\r\n    userId: number\r\n    lookingForAJob: boolean\r\n    lookingForAJobDescription: string\r\n    fullName: string\r\n    contacts: {\r\n        github: string,\r\n        vk: string,\r\n        facebook: string,\r\n        instagram: string,\r\n        twitter: string,\r\n        website: string,\r\n        youtube: string,\r\n        mainLink: string,\r\n    }\r\n    photos: {\r\n        small: string,\r\n        large: string\r\n    }\r\n} | null\r\n\r\nexport type InitialStateType = typeof initialState\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: 'Hi, how are you?', likesCount: 12},\r\n        {id: 2, message: `It's my first post`, likesCount: 11}\r\n    ],\r\n    profile: null as ProfileType,\r\n    status: '',\r\n}\r\n\r\nconst profileReducer = (state: InitialStateType = initialState, action: ActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            return {\r\n                ...state, posts: [...state.posts, {\r\n                    id: 3,\r\n                    message: action.newPostText,\r\n                    likesCount: 0\r\n                }],\r\n            }\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state, profile: action.profile\r\n            }\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state, status: action.status\r\n            }\r\n        }\r\n        case DELETE_POST: {\r\n            return {\r\n                ...state, posts: state.posts.filter(p => p.id != action.postId)\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state\r\n    }\r\n\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText: string) => (\r\n    {\r\n        type: ADD_POST,\r\n        newPostText\r\n    } as const\r\n)\r\n\r\nexport const setUserProfile = (profile: ProfileType) => (\r\n    {\r\n        type: SET_USER_PROFILE,\r\n        profile\r\n    } as const\r\n)\r\n\r\nexport const setStatus = (status: string) => (\r\n    {\r\n        type: SET_STATUS,\r\n        status\r\n    } as const\r\n)\r\n\r\nexport const deletePost = (postId: number) => (\r\n    {\r\n        type: DELETE_POST,\r\n        postId\r\n    } as const\r\n)\r\n\r\nexport const getUserProfile = (userId: string) => async (dispatch: Dispatch) => {\r\n    let response = await usersAPI.getProfile(userId)\r\n    dispatch(setUserProfile(response.data))\r\n}\r\n\r\nexport const getStatus = (userId: string) => async (dispatch: Dispatch) => {\r\n    let response = await profileAPI.getStatus(userId)\r\n    dispatch(setStatus(response.data))\r\n}\r\n\r\nexport const updateStatus = (status: string) => async (dispatch: Dispatch) => {\r\n    let response = await profileAPI.updateStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status))\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default profileReducer\r\n\r\n\r\n"],"sourceRoot":""}